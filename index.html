<!DOCTYPE html>
<meta charset="utf-8">
<title>Set List</title>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script language="javascript" src="setList.json"></script>
<style>
    body {
        height: auto;
    }

    table {
        width: 100%;
        padding: 5px;
        border: 2px solid black;
    }

    td {
        text-align: center;
        border: 1px solid black;
        border-right: 2px solid black;
        padding: 5px;
    }

    table, td {
        border-collapse: collapse;
    }

    th {
        border: 2px solid black;
    }
   
</style>
<html>
    <body>
        <div id="serialized"></div>
        <hr>
        <table id="setList">
            <h2>JSON data displayed in a table</h2>
            <tr id="tableHeader">
                <th>Song Title</th>
                <th>Artist(s)</th>
                <th>Genre(s)</th>
                <th>Release Date</th>
            </tr>
        </table>
        <script language="javascript" >
            $.getJSON( "setList.json", 
		        function( setList ) {
			        var str = JSON.stringify(setList);

                    document.getElementById("serialized").innerHTML = 
                        "<h2>Serialized JSON Data as a raw string: </h2> <br>" + str;
                
                    setList.forEach(function(song) { 
                        var songStr = "";

                        var artists = "";
                        var artistsLen = Object.keys(song.artists).length;
                        //Get artists
                        for (var i = 0; i < artistsLen; i++) {
                            artists += song.artists[i]
                            if (i < artistsLen - 1) {
                                artists += ", ";
                            }
                        }
                        //Get genres
                        var genres = "";
                        var genreLen = Object.keys(song.genre).length;
                        for (var i = 0; i < genreLen; i++) {
                            genres += song.genre[i]
                            if (i < genreLen - 1) {
                                genres += ", ";
                            }
                        }

                        songStr += "<tr>" + "<td>" + song.title + "</td>" + 
                            "<td>" + artists + "</td>" + "<td>" + genres + "</td>" + 
                            "<td>" + song.release + "</td>" + "</tr>";
                        document.getElementById("setList").innerHTML += songStr; 
                    })
                })


        </script>
    </body>
</html>
